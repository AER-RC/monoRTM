*
*      M O N O R T M       D I R E C T O R Y
*
*
*      Note: Since efforts are constantly being made
*      to improve MonoRTM (at the spectroscopic level, the 
*      line shape theory, the continuum, the radiative transfer
*      model, line coupling, etc,..), the user is therefore strongly 
*      advised to register to the MonoRTM mailing list. For this, 
*      simply send an email to aer_monortm@aer.com.
*      You will be notified each time there is an update.
****************************************************************

This is MONORTM directory. It contains several sub-directories described
briefly below:

CVS    -> For version control. Do not edit.
README -> This file.
build  -> Contains makefiles for MonoRTM for different platforms
run    -> Contains files required to run MonoRTM.
	  .  run_monortm_example is a script to run some examples
	  .  TAPE3_spectral_lines.dat.0_55.v5.0_fast  contains the spectral line information
	    - Note that if you wish to run a faster calculation with fewer microwave spectral lines or 
              for a spectral range outside the wavenumber range of the spectral line file supplied 
	      in the examples, you can create a line file using MonoLNFL, which is
              contained in this release package. 
	  -> subdirectory run/in contains sample input files
	     '_dn' denotes sample input files for downwelling radiance calculations
	     '_up' denotes sample input files for upwelling radiance calculations
		. MONORTM.IN         : input compatible with lblrtm (ex-TAPE5). IATM=1
                                       IDL code to generate profiles in TAPE5 format 
		                       from ARM netCDF radiosonde files is available 
                                       in the idl sub-directory  
	        . MONORTM_PROF.IN    : contains layer data, IATM=0 (this is a copy of TAPE7
                                       which is generated by a run where IATM=1
	  -> subdirectory run/out will hold the output from MonoRTM
		. MONORTM.OUT	     
	        . MONORTM.LOG (if LBLATM is ON) - TAPE6 file
	        . TAPE7 (if LBLATM is ON)      
src -> contains all source files needed by MonoRTM.
doc -> detailed instructions manual about MonoRTM, in ascii format. 
idl -> tool for creating monortm input from ARM sonde files.

HOW TO RUN MONORTM:
-------------------
Assuming you are in the main directory.

. Compilation:
  > cd build
  > make -f make_monortm OPTION, where the values for OPTION are listed in makefile.common
  > cd ..

. Running (to generate example output):
  > cd run
  > run_monortm_examples
 (Note that you may have to modify the executable name in 
 "run_monortm_examples" to match the name of the executable that you 
  have created.)


. Numerical check
  > cd run/out
  > diff MONORTM.OUT aer_MONORTM.OUT

HOW TO TAILOR MONORTM TO SPECIFIC NEEDS:
----------------------------------------

MONORTM is a driver program that calls the core module called the Monochromatic
Optical Depth Model (MODM).  The inputs to MODM could be modified inside
monortm.f90 directly or through the input file MONORTM.IN (same type of format
as LBLRTM's TAPE5), see instructions for more details.  MonoRTM is a forward
model. MonoRTM is designed to be very flexible. We can either use it as a black
box and control everything from the MONORTM.IN input file, or one can modify the
code itself and recompile it. In the latter, it is structured in such a way that
the changes should always be done in "monortm.f90" (the driver program). The
other auxillary files (monortm_sub.f90, modm.f90, lblatm.f90, lblrtm_sub.f,
tips_2003.f and isotope.dat) should normally not be touched, except in rare
situations. In case there is an update in the continuum calculations a new
"contnm.f90" module will be generated and sent to the users (or made available
on the WEB/ftp site). 

The core of MonoRTM is the computation of the optical depths. It is designed as a
subroutine for flexibility and could be easily plugged in a different radiative
transfer model if needed.


OUTPUTS OF MONORTM:
-------------------
The records stored in MONORTM.OUT are the following:
NPR	: 	Profile index used (not necessarily in order).
FREQ	: 	Frequency in GHz (or wavenumbers, for wavenumbers greater than 100 cm-1)
BT(I)	: 	Brightness temperature in Kelvin
TMR(I)  :       Mean radiating temperature (K)
RAD(I)	: 	Radiance (W/(cm^2 ster cm^-1))
TRTOT(I): 	Total transmittance (no unit: between 0 and 1)
WVCOLMN	: 	Integrated water vapor amount along the optical path in cm
CLWCOLMN: 	Integrated cloud liquid water along the optical path in mm
TMPSFC	: 	Surface/target temperature in K
EMISS(I): 	Surface/target emissivity (no unit, between 0 and 1)
REFLC(I): 	Surface/target Reflectivity (no unit , between 0 and 1)
ANGLE	: 	Angle in degrees
OTOT	: 	Total column-integrated optical depth due to all species
OTOT_*	: 	Total column-integrated optical depth by molecules with line data
ODXSEC	: 	Total column-integrated optical depth due to all cross-section molecules

NETCDF OUTPUT
-------------------
If MONORTM is compiled with the nectdf option on (see README.build_instructions in the build directory)
then a nectdf file named MONORTM.xxxxx.nc (where xxxxx is the profile number) will be created. This file will
contain all the variables above along with the layer optical depths and the layer optical depths by molecule.


QUESTIONS:
----------
Any comments or questions should be forwarded to Karen Cady-Pereira (aer_monortm@aer.com)

AER , Radiation and Climate Group
131 Hartwell Avenue
Lexington, MA 02421
USA
Tel: 1 781 761 2216
Fax: 1 781 761 2299



