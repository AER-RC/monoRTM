
****************************************************************
Version 3.3

This version of MonoRTM is different in file structure from previous versions
where the version number begins with 2.
There have been updates to the line parameters for the 22, 183, 325 and 380 GHz
water vapor lines, so results will be somehat different from the last release.

vhp 11/02/2007


****************************************************************
*
*      M O N O R T M       D I R E C T O R Y
*
*
*      Note: Because a lot of effort is constantly being made
*      to improve MonoRTM (at the spectroscopic level, the 
*      line shape theory, the continuum, the radiative transfer
*      model, line coupling, etc,..), the user is therefore strongly 
*      advised to register to the MonoRTM mailing list. For this, 
*      simply send an email to cadyp@aer.com or clough@aer.com.
*      You will be notified each time there is an update.
****************************************************************

This is MONORTM directory. It contains several sub-directories described
briefly below:

CVS    -> For version control. Do not edit.
README -> This file.
build  -> Contains makefiles for MonoRTM for different platforms
run    -> Contains files required to run MonoRTM.
	  .  run_monortm_example is a script to run some examples
	  .  spectral_lines.dat contains the spectral line information
	  -> subdirectory run/in contains sample input files
	     '_dn' denotes sample input files for downwelling radiance calculations
	     '_up' denotes sample input files for upwelling radiance calculations
		. MONORTM.IN         : input compatible with lblrtm (ex-TAPE5). INP=1
	        . ARM.IN             : List of ARM sondes. INP=2
	        . MONORTM_PROF.IN    : contains layer data, INP=3 (this is a copy of TAPE7
                                       which is generated by INP=2 or INP=1
	  -> subdirectory run/out will hold the output from MonoRTM
		. MONORTM.OUT	     : IDL code to read this file and to make plots is 
				       available in idl sub-directory.
	        . MONORTM.LOG (if LBLATM is ON) - TAPE6 file
	        . TAPE7 (if LBLATM is ON)      
src -> contains all source files needed by MonoRTM as well as the build shell (maker).
doc -> detailed instructions manual about MonoRTM, in ascii format. 
idl -> visualization tool

HOW TO RUN MONORTM:
-------------------
Assuming you are in the main directory.

. Compilation:
  > cd build
  > make -f (with your chosen makefile from the makefiles subdirectory)
  > cd ..

. Running (to generate example output):
  > cd run
  > run_monortm_examples

. Visualization of the output:
  >cd idl
  >idl
  IDL> .run monortm.pro
  > cd ..


. Numerical check
  > cd run/out
  > diff MONORTM.OUT aer_MONORTM.OUT

HOW TO TAILOR MONORTM TO SPECIFIC NEEDS:
----------------------------------------
MONORTM is a driver program that calls the core module called the Monochromatic 
Optical Depth Model (MODM). 
The inputs to MODM could be modified inside monortm.f directly or through the input
file MONORTM.IN (same type of format as LBLRTM's TAPE5), see instructions for more details.
MonoRTM is a forward model. MonoRTM is designed to be very flexible. We can either use 
it as a black box and control everything from the MONORTM.IN input file, or one can modify 
the code itself and recompile it. In the latter, it is structured in such a way that the 
changes should always be done in "monortm.f" (the driver program). The other auxillary 
files (monortm_sub.f, modm.f, lblatm.f and declar.incl, continuumDATASTAT.dat) 
should normally not be touched, except in rare situations. In case there is an update 
in the continuum calculations a new file "continuumDATASTAT.dat" will be generated
and sent to the users (or made available on the WEB/ftp site). In the same way, if the 
spectroscopic database is to be updated, only the file "spectral_lines.dat" file should 
be replaced. The code would not need to be modified.
The core of MonoRTM is the computation of the optical depths. It is designed as a subroutine 
for flexibility and could be easily plugged in a different radiative transfer model if needed.


OUTPUTS OF MONORTM:
-------------------
The records stored in MONORTM.OUT are the following:
NPR	: 	Profile index used (not necessarily in order).
NR	: 	Record number 
I	: 	Frequency index
FREQ	: 	Frequency in GHz
TB(I)	: 	Brightness temperature in Kelvin
RAD(I)	: 	Radiance (W/(cm^2 ster cm^-1))
TRTOT(I): 	Total transmittance (no unit: between 0 and 1)
WVCOLMN	: 	Integrated water vapor amount in cm
CLWCOLMN: 	Integrated cloud liquid water in mm
TMPSFC	: 	Surface/target temperature in K
EMISS(I): 	Surface/target emissivity (no unit, between 0 and 1)
REFLC(I): 	Surface/target Reflectivity (no unit , between 0 and 1)
ANGLE	: 	Angle in degrees
OTOT	: 	Total column-integrated optical depth due to all species (in Nepers)
OTOT_WV	: 	Total column-integrated optical depth due to water vapor (in Nepers
OTOT_O2	: 	Total column-integrated optical depth due to oxygen (in Nepers)
OTOT_N2	:  	Total column-integrated optical depth due to N2 (in Nepers)
OTOT_O3	: 	Total column-integrated optical depth due to ozone (in Nepers)
OTOT_N2O: 	Total column-integrated optical depth due to N2O (in Nepers)
OTOT_CO	: 	Total column-integrated optical depth due to CO (in Nepers)
OTOT_SO2: 	Total column-integrated optical depth due to SO2 (in Nepers)
OTOT_NO2: 	Total column-integrated optical depth due to NO2 (in Nepers)
OTOT_OH	: 	Total column-integrated optical depth due to OH (in Nepers)



QUESTIONS:
----------
Any comments or questions should be forwarded to Karen Cady-Pereira, 
Vivienne Payne or Tony Clough in AER at the address below:

AER , Radiation and Climate Group
131 Hartwell Avenue
Lexington, MA 02421
USA
Tel: 1 781 761 2216
Fax: 1 781 761 2299

By E-mail:
cadyp@aer.com
vpayne@aer.com
clough@aer.com



